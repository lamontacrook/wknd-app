{"ast":null,"code":"var _jsxFileName = \"/Users/lamont/Workspace/andy/wknd-app/src/screens/Settings.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { site, contentPathSuffix, getRemoteSite } from \"../utils\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Settings() {\n  _s();\n  const placeholder = \"--select-site--\";\n  const [fetchedSpaSites, setFetchedSpaSites] = useState(false);\n  const [currentSite, setCurrentSite] = useState(site || placeholder);\n  const [spaSites, setSpaSites] = useState([site]);\n  const [contentPath] = useState(contentPathSuffix);\n  useEffect(() => {\n    async function getData() {\n      setSpaSites([placeholder, ...(await getRemoteSite())]);\n      console.log(\"spaSites\", spaSites);\n    }\n    if (!fetchedSpaSites) {\n      getData();\n      setFetchedSpaSites(true);\n    }\n  }, [fetchedSpaSites, spaSites]);\n  const getContentPath = site => `/content/${site}${contentPath}`;\n  const onChangeHandler = e => {\n    const site = e.target.value;\n    if (site !== localStorage.getItem(\"aemGuidesWkndPwa.site\")) {\n      window.localStorage.setItem(\"aemGuidesWkndPwa.contentPath\", getContentPath(site));\n      window.localStorage.setItem(\"aemGuidesWkndPwa.site\", site);\n      setCurrentSite(site);\n      window.location.reload();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"content\",\n    style: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Settings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.selectContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Site to Render\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          style: styles.select,\n          value: currentSite,\n          onChange: onChangeHandler,\n          children: spaSites.map((site, key) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: site,\n            children: site\n          }, key, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 42\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"dl\", {\n        children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Connected Site\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n          children: [\"/content/\", currentSite]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"dt\", {\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Root Page\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n          children: getContentPath(currentSite)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"em\", {\n      style: styles.explanation,\n      children: \"If no content appears on the Home Screen, ensure that you have created a site using the WKND SPA Site template. The default name is WKND-App, but you can select any name and configure it here.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n}\n_s(Settings, \"FFPy59mZ6UpwxBqUz8UWAa3Rc1k=\");\n_c = Settings;\nconst styles = {\n  container: {\n    padding: \"1rem\",\n    justifyContent: \"space-between\"\n  },\n  selectContainer: {\n    margin: \"1rem 0\"\n  },\n  select: {\n    marginTop: \".5rem\",\n    padding: \".5rem\",\n    borderRadius: \"5px\",\n    backgroundColor: \"#999\",\n    fontWeight: 700,\n    display: \"block\",\n    width: \"100%\"\n  },\n  explanation: {\n    marginBottom: \"2rem\"\n  }\n};\nvar _c;\n$RefreshReg$(_c, \"Settings\");","map":{"version":3,"names":["useState","useEffect","site","contentPathSuffix","getRemoteSite","Settings","placeholder","fetchedSpaSites","setFetchedSpaSites","currentSite","setCurrentSite","spaSites","setSpaSites","contentPath","getData","console","log","getContentPath","onChangeHandler","e","target","value","localStorage","getItem","window","setItem","location","reload","styles","container","selectContainer","select","map","key","explanation","padding","justifyContent","margin","marginTop","borderRadius","backgroundColor","fontWeight","display","width","marginBottom"],"sources":["/Users/lamont/Workspace/andy/wknd-app/src/screens/Settings.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { site, contentPathSuffix, getRemoteSite } from \"../utils\";\r\n\r\nexport default function Settings() {\r\n\r\n  const placeholder = \"--select-site--\";\r\n  const [fetchedSpaSites, setFetchedSpaSites] = useState(false);\r\n  const [currentSite, setCurrentSite] = useState(site || placeholder);\r\n  const [spaSites, setSpaSites] = useState([site]);\r\n  const [contentPath] = useState(contentPathSuffix);\r\n\r\n  useEffect(() => {\r\n    async function getData() {\r\n      setSpaSites([placeholder, ...await getRemoteSite()]);\r\n      console.log(\"spaSites\", spaSites);\r\n    }\r\n\r\n    if (!fetchedSpaSites) {\r\n      getData();\r\n      setFetchedSpaSites(true);\r\n    }\r\n  }, [fetchedSpaSites, spaSites]);\r\n\r\n  const getContentPath = (site) => `/content/${site}${contentPath}`;\r\n  const onChangeHandler = (e) => {\r\n    const site = e.target.value;\r\n    if (site !== localStorage.getItem(\"aemGuidesWkndPwa.site\")) {\r\n      window.localStorage.setItem(\"aemGuidesWkndPwa.contentPath\", getContentPath(site))\r\n      window.localStorage.setItem(\"aemGuidesWkndPwa.site\", site)\r\n      setCurrentSite(site);\r\n      window.location.reload();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"content\" style={styles.container}>\r\n      <div>\r\n        <h1>Settings</h1>\r\n        <div style={styles.selectContainer}>\r\n          <strong>Site to Render</strong>\r\n          <select style={styles.select} value={currentSite} onChange={onChangeHandler}>\r\n            {spaSites.map((site, key) => <option key={key} value={site}>{site}</option>)}\r\n          </select>\r\n        </div>\r\n        <dl>\r\n          <dt><strong>Connected Site</strong></dt>\r\n          <dd>/content/{currentSite}</dd>\r\n          <dt><strong>Root Page</strong></dt>\r\n          <dd>{getContentPath(currentSite)}</dd>\r\n        </dl>\r\n      </div>\r\n      <em style={styles.explanation}>If no content appears on the Home Screen, ensure that you have created a site using the WKND SPA Site template. The default name is WKND-App, but you can select any name and configure it here.</em>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst styles = {\r\n  container: {\r\n    padding: \"1rem\",\r\n    justifyContent: \"space-between\",\r\n  },\r\n  selectContainer: {\r\n    margin: \"1rem 0\",\r\n  },\r\n  select: {\r\n    marginTop: \".5rem\",\r\n    padding: \".5rem\",\r\n    borderRadius: \"5px\",\r\n    backgroundColor: \"#999\",\r\n    fontWeight: 700,\r\n    display: \"block\",\r\n    width: \"100%\",\r\n  },\r\n  explanation: {\r\n    marginBottom: \"2rem\"\r\n  }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}